<?xml version="1.0" encoding="utf-8" standalone="no"?>
<Project>
  <!-- Disable code coverage when building and running tests in Visual Studio -->
  <PropertyGroup Condition=" '$(BuildingInsideVisualStudio)' == 'true' ">
    <CollectCoverage>false</CollectCoverage>
  </PropertyGroup>
  <!-- Provide a default .runsettings file for Microsoft Testing Platform -->
  <PropertyGroup>
    <_CoverageRunSettingsFileName>MartinCostello.BuildKit.runsettings</_CoverageRunSettingsFileName>
    <MartinCostelloBuildKitRunSettings>$([System.IO.Path]::Combine($(MSBuildThisFileDirectory), '..', '$(_CoverageRunSettingsFileName)'))</MartinCostelloBuildKitRunSettings>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(UseDefaultTestRunSettings)' == 'true' ">
    <CoverageRunSettings>$(MartinCostelloBuildKitRunSettings)</CoverageRunSettings>
  </PropertyGroup>
  <ItemGroup Condition="'$(UseDefaultTestRunSettings)' == 'true'">
    <AdditionalFiles Include="$(CoverageRunSettings)" Link="$(_CoverageRunSettingsFileName)" />
  </ItemGroup>
</Project>
